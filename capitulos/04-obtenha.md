# Obtenha

Agora que vimos alguns pontos importantes para definir o escopo de nossa pesquisa e a diversidade de formatos que os dados podem assumir, vamos voltar aos dados tabulares para entender como podemos obtê-los. Basicamente, existem três formas de se obter dados.

A primeira é coletá-los você mesmo. Apesar de comum em setores como o poder público e algumas organizações da sociedade civil, no campo da comunicação, em geral, você irá lidar com dados já coletados por alguém. Por isto, como dito no capítulo anterior, não iremos abordar a coleta de dados primários neste guia.

O segundo modo é obter dados inéditos. Neste livro, iremos focar no principal mecanismo legal para isso no Brasil. Quando você já esgotou suas possibilidades de busca, no caso do poder público, há uma alternativa bastante promissora para você obter os dados que precisa: a Lei de Acesso à Informação. Neste capítulo, veremos como utilizá-la a seu favor para conseguir novas bases de dados pelo Serviço de Informação ao Cidadão previsto pela lei.

Por último, o terceiro modo de se obter dados é simplesmente os encontrando. Muitas vezes, as informações que você precisa já estarão disponível na internet.

Porém, nem sempre é fácil encontrar a informação que você precisa, principalmente se você está lidando com um tema que você não domina. Nestes casos, antes de ir atrás dos dados propriamente ditos, é preciso fazer uma pesquisa ou buscar ajuda com especialistas para entender melhor o campo que você desejar estudar e compreender quais bases de dados estão disponíveis.

Neste capítulo, veremos quais técnicas são utilizadas para lidar com situações como essa. Iremos revisar diversos conceitos e técnicas relativas à obtenção de dados, das mais simples às mais complexas.

Primeiramente, vamos abordar as técnicas de busca avançada na web. Esta etapa é fundamental, pois antes de tudo você precisa definir quais termos ou palavras-chaves serão utilizadas na pesquisa. Por isso, veremos agora algumas técnicas importantes para fazer pesquisas precisas e obter os dados que você precisa.

**Busca avançada na web**

Não raro, os dados encontram-se &quot;escondidos&quot; ou são de difícil acesso. Por isso, é importante conhecer alguns operadores de busca avançada na web. Basicamente, esses operadores funcionam como uma espécie de filtro, que te permite garimpar na vastidão da internet exatamente o que você precisa.

Talvez você já conheça alguns operadores de busca mais básicos. Por exemplo, se você apenas joga as palavras ou termos no buscador, ele irá vasculhar páginas que contenham os termos inseridos em qualquer lugar da página, mesmo que não estejam em sequência. Porém, se você colocar os termos entre aspas, a busca retornará apenas as expressões exatas, ou seja, quando os termos retornam exatamente na ordem em que foram inseridos. Para ver isso na prática, considere a palavra-chave &quot;obtenção de dados&quot; e primeiro faça uma busca no Google com elas entre aspas e depois sem aspas.

Este é apenas um entre vários operadores de busca disponíveis. Conhecer estas opções irá ampliar em muito a forma como você busca informações na internet. É possível fazer filtros por data, extensões de arquivo ou sites específicos da internet, entre várias outras opções. Além disso, você consegue combinar os operadores para fazer buscas realmente precisas. Vejamos o exemplo abaixo.

_coronavirus filetype:xls site:gov.br_

Se você digitar isso no Google, o buscador irá retornar todas as planilhas em Excel com extensão XLS que estão hospedados em endereços do governo brasileiro e possuem a palavra &#39;coronavírus&#39;.

Para conhecer os operadores de busca disponíveis e aperfeiçoar suas habilidades de busca na web, recomendamos a leitura deste [tutorial introdutório](https://escoladedados.org/tutoriais/busca-avancada-na-internet/) e especialmente deste [texto que publicamos sobre busca avançada](https://escoladedados.org/tutoriais/operadores-de-busca-avancada/). O texto é uma tradução de um artigo de Daniel M. Russell, pesquisador sênior do Google, que documentou todos operadores de busca da ferramenta.

Se você quiser ir fundo no tema, vale a pena pesquisar por técnicas de inteligência com fontes abertas (open source intelligence - OSINT). Os operadores de busca avançados são uma das técnicas utilizadas em OSINT. No entanto, o campo compreende várias outras abordagens, que inclusive vão além do trabalho com dados, como a geolocalização de imagens a partir de características visuais.

De todo modo, as metodologias e as abordagens de OSINT são bastante interessantes para melhorar suas habilidades de investigação na internet e com dados. Um dos grupos de mais destaque nesta área é o [Bellingcat](https://www.bellingcat.com/). Vale a pena conferir suas investigações e os tutoriais que disponibilizam. Além disso, o grupo tem o guia _&quot;_[_Bellingcat&#39;s Online Investigation Toolkit_](https://docs.google.com/document/d/1BfLPJpRtyq4RFtHJoNpvWQjmGnyVkfE2HYoICKOGguA/edit#)_&quot;_, uma compilação fantástica de fontes e recursos para obtenção de dados online.

## Lei de Acesso à Informação e dados abertos

Outro importante mecanismo de obtenção de dados são as requisições oficiais feitas a governos e entidades públicas. Este mecanismo existe em diversos países. Nos Estados Unidos, chama-se _Freedom Of Information Act_ (FOIA), por exemplo, mas no Brasil é conhecida como Lei de Acesso à Informação (LAI - Lei 12.527/2011).

Esta legislação que entrou em vigor em 2012 regulamentou o direito à informação garantido pela Constituição Federal brasileira em seu artigo quinto, reforçando o entendimento da publicidade como regra e o sigilo como exceção. Ela obriga órgãos públicos de diferentes esferas e poderes a fornecer ativamente e abertamente, na web, informações de interesse da sociedade. Assim, o caminho inicial para quem quer obter dados governamentais é verificar se eles já estão disponíveis no site do órgão sobre o qual se busca a informação.

Além de regulamentar esta transparência ativa, quando o próprio órgão disponibiliza a informação proativamente, a Lei de Acesso à Informação - Lei nº 12.527, de 18 de novembro de 2011, em vigor desde maio do ano seguinte - também criou o Serviço de Informação ao Cidadão, que implementa na prática a chamada transparência passiva. É o SIC - ou eSIC, nos casos de atendimento online - que garante acesso do público aos dados que são de interesse coletivo, mas por algum motivo não estão disponíveis para consulta.

Mas a LAI vale para todos? Vejamos a quem se aplica esta legislação. Tanto a União quanto os estados, o Distrito Federal e os municípios estão sujeitos à LAI. Isso vale no âmbito dos três poderes: legislativo, executivo e judiciário. Além deles, também devem obedecer a LAI as autarquias, fundações ou empresas públicas, sociedades de economia mista e entidades controladas direta ou indiretamente por entes da federação. Entidades privadas que recebam recursos públicos igualmente devem fornecer as informações relacionadas ao uso dessas verbas.

Antes de recorrer à LAI, porém, é importante que você faça o dever de casa: busque os portais de transparência já existentes e verifique se o dado desejado não está disponível. Faça essa checagem antes de realizar o seu pedido para evitar sobrecarregar o serviço público com demandas que já foram resolvidas.

Além de buscar nos portais de transparência e fontes oficiais sobre o dado que você deseja, vale também consultar solicitações e respostas já prévias, no caso de pedidos submetidos ao governo federal. Pode ser que alguém já tenha solicitado o dado que você busca e, se for este o caso, você pode encontrar no site da [Controladoria Geral da União](http://www.consultaesic.cgu.gov.br/busca/SitePages/principal.aspx) tanto a solicitação quanto a resposta do órgão.

O prazo de resposta é de 20 dias, mas o órgão pode prorrogá-lo por mais 10. Em caso de pedidos negados, você tem direito de ter acesso à justificativa completa para esta decisão e pode questioná-la em até 10 dias. Depois disso, a autoridade hierarquicamente superior àquela que negou o acesso deve se manifestar em até 5 dias. O recurso pode ser usado tanto nos casos em que o acesso à informação não sigilosa for negado, ou procedimentos (como prazos) forem desrespeitados, quanto para pedir a revisão da classificação da informação sigilosa.

Para fazer bons recursos, vale buscar embasamento na legislação. Artigos de leis e decretos, de todas as esferas, podem ser aliados nesse processo. Também vá atrás de precedentes, não necessariamente do mesmo órgão. Pode ser de outras pastas com o mesmo tema. Nesse caso, o site [Busca Precedentes](http://buscaprecedentes.cgu.gov.br/busca/SitePages/principal.aspx), da Controladoria-Geral da União (CGU), pode ser um aliado. Em último caso, muitas vezes, a própria recusa em liberar a informação ou a declaração do sigilo já podem ser informações suficientemente fortes para valer uma publicação.

**Dica** : Você não precisa dar nenhuma justificativa para realizar um pedido de acesso à informação.

Ao solicitar dados, lembre-se ainda que a Lei de Acesso à Informação, especificamente no artigo 8º, explicita a importância de disponibilizar as informações em formatos abertos, estruturados e legíveis por máquina e de forma acessível para todos os cidadãos brasileiros. Para tentar minimizar os riscos de receber dados em formatos inadequados em seus pedidos, você pode inserir uma solicitação explícita para que sejam encaminhados como dados abertos, juntamente com um dicionário de dados ou documentação básica que os explique.

**Dica** : Dicionário de dados é um documento que traz informações sobre as &quot;regras de negócios&quot; por trás dados, explicando a metodologia de sua geração.

Um exemplo de texto que você pode usar é a frase abaixo.

&quot;Solicito que os dados sejam fornecidos preferencialmente em formato aberto (planilha em .csv,.ods, etc) de acordo com o determinado no art. 8º, §3º da Lei Federal 12.527/11, o item V do art. 24 da Lei Federal 12.695/14 e a normatiza expressa no item 6.2 da[Cartilha Técnica para Publicação de Dados Abertos no Brasil](http://dados.gov.br/pagina/cartilha-publicacao-dados-abertos), elaborada pelo Governo Federal. Solicito ainda que seja encaminhado também o dicionário de dados, documento ou explicação equivalente que descreva o significado de cada variável/coluna&quot;.

Na sequência, entenderemos melhor o que significa na prática a noção de &#39;dados abertos&#39;. Mas antes vamos fazer uma revisão de um checklist para você conferir antes de fazer seus pedidos de LAI.

**Dicas para consultas via Lei de Acesso à Informação**

| ✔️ **Faça o dever de casa** : é importante saber quem detém a informação solicitada para fazer o pedido ao órgão responsável;
✔️ **Cada um no seu quadrado** : faça um pedido/protocolo para cada dado desejado, principalmente se forem informações diferentes entre si;
✔️ **Tenha f**** oco**: pedidos muito genéricos costumam ser recusados, por isso é importante fazer recortes precisos de período, local e itens específicos. É importantes ser claro. Você pode fazer o pedido usando listas, explicar qual o recorte temporal que deseja ou mesmo quais os campos ou variáveis você gostaria de ter acesso, caso solicite dados;
✔️ **Use artigos/precedentes** : para embasar o pedido é possível recorrer a artigos da lei ou outros precedentes, como decisões em outros estados, por exemplo;
✔️ **Antecipe sigilos** : se os dados podem ter informações sigilosas, você já pode se antecipar e solicitar que eles sejam tarjados ou removidos para evitar possíveis negativas com essa justificativa. |
| --- |

**Dados abertos**

De acordo com a [Open Knowledge](http://opendatahandbook.org/guide/en/what-is-open-data/), &#39;dados abertos&#39; são aqueles que qualquer um pode livre e gratuitamente acessar, usar, modificar e compartilhar para qualquer propósito, inclusive para uso de comercial. Eles estão sujeitos, no máximo, à exigência de menção da autoria e abertura de trabalhos derivados.

Isto diz respeito ao licenciamento dos dados, mas também é importante que o formato do arquivo no qual os dados estão disponibilizados seja um formato aberto. O formato dos arquivos são indicados pela sua extensão. Você deve saber que XLS ou XLSX é a extensão utilizada pelo Excel para planilhas, mas este é um formato de arquivo fechado, que é propriedade privada da Microsoft, portanto, não é um formato aberto. Para saber mais sobre os diferentes níveis de abertura de dados, vale conferir o ranking da iniciativa [5-star Open Data](https://5stardata.info/en/), uma classificação criada por Tim Berners-Lee, inventor da web e defensor de dados interconectados (_linked data_).

Os formatos mais comuns para dados abertos são o CSV, no caso de arquivos com planilhas já disponíveis para download, e o JSON ou o XML no caso de obtenção de dados por meio de APIs. Enquanto o primeiro representa dados tabulares, com linhas e colunas, o XML e o JSON possuem uma estrutura hierárquica, onde os valores estão uns dentro dos outros, mais ou menos como as pastas de seu computador são organizadas.

No geral, dados abertos não tão comuns de encontrar. Você provavelmente encontrará alguns empecilhos antes de sequer começar a analisar ou visualizar a sua base. Os dados podem estar espalhados em várias planilhas diferentes, despadronizados, desatualizados e sem documentação suficiente para que se compreenda o que as informações significam. A lista de problemas é longa.

Um dos primeiros problemas nesta fase de obtenção é não encontrar os dados que você precisa como dados abertos. Eles podem estar disponibilizados por meio de páginas na web, que foram feitas para serem visualizadas por humanos, mas são inúteis se queremos fazer análises ou visualizações. Ou pior: podem ser fotos ou tabelas digitalizadas com um &quot;scanner&quot;.

Abaixo, veremos alguns problemas comuns na hora de obter dados em tabelas - e como você pode contorná-los.

## Problemas comuns com tabelas

Mesmo quando você encontra uma tabela já estruturada em formatos abertos, é possível que você enfrente alguns problemas na hora de abrir os arquivos. Nesta seção, iremos ver três problemas muito comuns, especialmente entre iniciantes, que identificamos na Escola de Dados ao longo destes anos de treinamentos.

A solução deles é bastante simples, porém, se você nunca passou por isso antes, pode ser que encontre dificuldades. Todos os problemas são especialmente comuns ao lidar com tabelas, seja em editores de planilhas ou utilizando linguagens como Python ou R.

Para quem está começando, apesar de serem de fácil resolução, estes problemas podem causar bastante confusão, pois a função padrão de &#39;Abrir Arquivo&#39; dos editores de planilha costumam passar por cima desses &quot;detalhes&quot;.importantíssimos. Por isso, de modo geral, é recomendável utilizar a função de importar dados para abrir os CSV, pois assim você poderá fazer ajustes em configurações importantes, como as que veremos abaixo.

Além disso, no fim desta seção, também veremos como lidar com dados que estão em formato PDF ou como imagens/fotos.

**Separador de campos**

A sigla CSV significa _Comma Separated Values_ ou, em bom português, valores separados por vírgulas. Isto porque um arquivo CSV nada mais é que um arquivo de texto onde um certo caractere é utilizado como separador das colunas. Ou seja, se você abrir seu bloco de notas e salvar um arquivo com extensão CSV contendo o texto abaixo poderá abrí-lo depois no editor de planilhas e ele será visualizado como uma tabela.

_nome,aula,nota_

_rosa,matemática,10_

_walter,português,8_

_maria,português,5_

[exemplocsv-2.png]

No caso acima, os campos ou colunas são separados com vírgula. Essa é a base fundamental por trás de um CSV, mas existem particularidades. Podemos, por exemplo, utilizar aspas para delimitar o resultado de uma célula, além das vírgulas. Não iremos entrar nestes detalhes aqui. Para quem está começando, o importante não é compreender todas especificações de um CSV, mas simplesmente conseguir abrir adequadamente os dados quando necessário.

Como a sigla da extensão CSV indica, a vírgula é o separador de caractere padrão. Porém, é comum que você encontre tabelas que utilizem o ponto-e-vírgula como separador dos campos. É o caso, por exemplo, de algumas tabelas disponibilizadas pelo Tribunal Superior Eleitoral no Brasil (TSE).

Ao tentar abrir estes arquivos com um editor de planilha, sem especificar qual o separador de caractere utilizado, é possível que os campos e colunas apareçam desconfigurados. Por desconhecer o separador de campos adequado, o programa não conseguirá exibir os valores nas suas células adequadas.

No exemplo abaixo, você vê uma tabela em CSV do TSE aberta usando a função &#39;Abrir&#39;, sem a especificação do campo de separador de caractere. Repare que os valores das colunas são mostrados de forma inadequada.

[separador-CSV1.png]

Agora, veja a mesma tabela após ser aberta utilizando a função de &#39;Importar&#39;, que permite a especificação do separador de caractere correto. Neste caso, todos os valores aparecem nas colunas adequadas.

[exemploCSV-2.png]

Na prática, é possível utilizar qualquer caractere como separador em um CSV, porém, a vírgula e o ponto-e-vírgula são de longe os mais comuns. Portanto, saiba que, se você abriu uma tabela em CSV e as colunas aparecem desformatadas, muito provavelmente você não selecionou o separador de campos adequado. Provavelmente, você precisará utilizar a função &#39;Importar&#39; e então especificar manualmente o ponto-e-vírgula como o separador de campos.

**Codificação de caracteres**

Outro problema bastante comum, não só com planilhas, mas com qualquer documento digital, são os erros de _encoding_ ou codificação de caracteres. Você já tentou abrir algum arquivo e alguns caracteres especiais apareciam de forma estranha, mais ou menos como no exemplo abaixo?

[encoding]

Repare como as letras com acentos na tabela acima não aparecem adequadamente. As codificações de caracteres que &quot;traduzem&quot; os caracteres que nos conhecemos em padrões que os computadores conseguem entender. Novamente, você não precisa se preocupar com os detalhes técnicos sobre isso para abrir suas tabelas. Basta saber que se alguns caracteres da sua tabela aparecem de forma estranha, tal como na imagem acima, então, provavelmente a codificação de caracteres selecionada não está correta.

Existem alguns programas que podem te ajudar a identificar a codificação de caractere utilizada em um arquivo, porém, você pode consultar a documentação dos dados que obteve em busca de alguma especificação do tipo ou simplesmente tentar os dois tipos de _encoding_ mais comuns.

O UTF-8 (Unicode) é de longe a codificação de caracteres mais comum da web. Quando você apenas lê algo, sem se preocupar com coisas como esta, provavelmente seu computador está usando UTF-8. Porém, se você encontrar problemas, vale a pena tentar abrir seus dados com o _encoding_ ISO-8859-1 (Latin 1), uma codificação de caracteres latinos, que você pode encontrar em alguns documentos brasileiros, por exemplo. O caminho para corrigir a codificação varia conforme o software utilizado para manusear os dados, mas você conseguirá encontrar facilmente tutoriais e orientações na internet sobre o assunto.

**Tipo de dados na coluna**

Imagine que você se depare com uma planilha do Instituto Brasileiro de Geografia e Estatística (IBGE). No conteúdo organizado pelo IBGE, cada município possui um código único, viabilizado por meio de números. No entanto, você não os usará para fazer cálculos matemáticos. Não faz sentido, por exemplo, multiplicar o código de identificação de Fortaleza com o de Porto Alegre. Este número na realidade é um código, um conjunto de símbolos que tem um significado específico. Por isso, é importante que colunas que contenham códigos numéricos sejam convertidas para o formato texto.

Os números em formato de código podem ter diferentes significados dependendo da sua base: categorizações, identificadores (IDs), resposta afirmativa, positiva ou ausente. Isso pode ser esclarecido no dicionário de dados, caso sua base venha acompanhada dele.

Em geral, usuários iniciantes ignoram essa configuração do tipo de dados de cada coluna e acabam tendo dificuldades para realizar operações simples, como o ordenamento das linhas a partir de um valor específico, por exemplo. Outro problema ocorre quando os registros são documentos de identidade, Cadastro de Pessoa Física, Jurídica (CPF e CNPJs) ou outros identificadores que começam com 0, por exemplo. Quando esses registros estão no formato numérico, os editores de planilha podem eliminar os zeros à esquerda. Isso pode causar diversos problemas ao tentar cruzar bases de dados distintas ou mesmo ocasionar a perda dos valores originais da tabela, caso você seja sobrescreva o arquivo.

O contrário também pode acontecer. Há ocasiões em que os números - que realmente precisam ser números - estão em formato texto, impedindo que qualquer cálculo seja feito com eles. Por isso, antes de partir para a análise, verifique a formatação de cada coluna da sua planilha e, caso necessário, modifique-a.

**Padrão de números e datas**

Outro ponto para se ter atenção é a localidade onde os dados foram produzidos. Nos Estados Unidos, na representação de números, os pontos separam os decimais e as vírgulas, os centésimos. Já no Brasil e na Europa, é o inverso: usamos o ponto para separar os centésimos e a vírgula para separar os números decimais. Isto pode ser um problema na hora dos softwares &quot;entenderem&quot; e realizarem operações com números.

As datas também costumam ser elementos complicadores e precisam de atenção. Dependendo da origem da sua planilha, elas podem chegar a você no formato dia/mês/ano (padrão brasileiro) ou no formato mês/dia/ano (padrão norte-americano). Por isso, é importante saber qual a origem dos dados e certificar-se de que eles não foram produzidos em localidades distintas. Alguns editores de planilha possuem configurações que permitem indicar qual é a localidade do arquivo e, a partir disso, deduz as configurações de separadores, datas e moedas. Caso seus dados adotem padrões distintos, será necessário padronizá-los para realizar análises.

**Lidando com PDFs**

O primeiro passo para lidar com dados em PDF é identificar se há elementos de texto no documento ou se o arquivo é, na verdade, uma foto. No primeiro caso, o processo tende a ser mais tranquilo e menos suscetível a erro. No segundo, é preciso aplicar uma técnica especial chamada &#39;reconhecimento ótico de caracteres&#39; (OCR), que permite que o computador &quot;veja&quot; a imagem e &quot;transcreva&quot; os números e textos nela. Se você passa o mouse em cima da tabela e consegue selecionar os caracteres, então, trata-se do primeiro caso. Se não, então, você está vendo na verdade uma imagem.

Infelizmente, não existe uma solução única ou perfeita para libertar dados em PDF. No entanto, existem alguns fatores que ajudam a escolher a melhor ferramenta. Se você precisa realizar a conversão uma única vez e em um documento com poucas páginas, uma solução gratuita - inclusive com OCR - deve ser suficiente. Se você quiser automatizar esse procedimento, customizá-lo ou realizá-lo para um número maior de documentos e páginas, linguagens de programação como Python e R se apresentam como uma boa saída.

Para facilitar, fizemos um resumo abaixo das principais soluções para extração de dados em PDF.

| **Dados em PDF como...** | **Programando** | **Sem programar** |
| --- | --- | --- |
| Imagens (OCR) | PyTesseract (Python)[PyPDFOCR (Python)](https://pypi.org/project/pypdfocr/)[Tesseract (R)](https://cran.r-project.org/web/packages/tesseract/index.html) | [Abby](https://www.abbyy.com/pt-br/finereader/)[FineReader](https://www.abbyy.com/pt-br/finereader/)[Zamzar](https://www.zamzar.com/)[Cometdocs](http://www.cometdocs.com/)Yagf (open source)[OnlineOCR](https://www.onlineocr.net/) (gratuito) |
| Texto | PDFMiner
 Rows (Python)[PDFTools](https://ropensci.org/technotes/2018/12/14/pdftools-20/) (R)Tabula (Python) | [Tabula](https://tabula.technology/)[PDFTables](https://pdftables.com/)
 |

## Raspagem de dados e APIs

Quando as informações que você precisa não estão estruturadas como dados abertos, será necessário fazer uso de uma técnica conhecida como &quot;raspagem de dados&quot; ou web scraping, que envolve realizar cópias de informações de interesse disponibilizadas em páginas web, organizando-as como dados estruturados. Este processo é feito utilizando alguns programas específicos e, nesta seção, você verá algumas das principais ferramentas.

Para raspagens mais simples, você pode utilizar soluções com interface gráfica e resolver o que precisa com poucos cliques. Porém, a depender da complexidade da tarefa, talvez seja necessário que você desenvolva um programa ou script próprio, usando Python ou R, por exemplo.

Os detalhes sobre raspagens de dados variam imensamente de acordo com a fonte dos dados ou volume de requisições necessárias, já que alguns sites bloqueiam ou restringem o acesso quando identificam tentativas de raspagem dados. Outro problema comum é o uso de CAPTCHAS ou conteúdos carregados dinamicamente via JavaScript, que dificultam a raspagem.

Não iremos entrar no detalhe de cada situação. De modo geral, o que você precisa saber que é este método de coleta costuma envolver duas etapas fundamentais.

A primeira delas envolve descarregar as páginas e informações brutas. Ou seja, seja qual for a solução de raspagem adotada, ela precisará começar fazendo o download das páginas web ou arquivos que serão utilizados.

Em seguida, você precisará separar o joio do trigo. Como os dados não estão estruturados em sua origem, será preciso fazer isso. Esta etapa por vezes é chamada de _parsing_. Nela, você irá identificar quais elementos de uma página HTML que interessam na formação da sua tabela, por exemplo. Esta etapa já pode ser considerada também como parte do processo de limpeza de dados, que veremos adiante.

Todo processo de raspagem, _parsing_ ou limpeza de dados envolve basicamente uma habilidade fundamental: reconhecimento de padrões. Seja na identificação dos elementos que precisam ser raspados, seja no processamento dos arquivos para &quot;limpá-los&quot; das informações desnecessários, será necessário identificar quais padrões irão permitir ao computador chegar aos dados tal como você deseja.

Para melhorar seus conhecimentos em raspagem de dados, você precisa conhecer pelo menos o básico de HTML. Também são úteis conhecimentos em CSS ou XPath. Na tabela abaixo, você encontra um resumo de algumas das principais soluções para raspagens de dados.

| **Interface gráfica** | **Python** | **R** |
| --- | --- | --- |
| WebScraper

Portia (baseado em Scrapy) | Scrapy

BeautifulSoup
 Selenium | rvest
 |

**Comunicação com APIs**

APIs são interfaces que facilitam a comunicação de dados entre computadores. A sigla significa &#39;interface de programação de aplicações&#39; e esta forma de acessar dados está presente nas principais plataformas e redes sociais, mas também em portais de dados governamentais.

Se a raspagem de dados, como o nome indica, evoca um método um tanto bruto de se obter os dados, a API seria o oposto. APIs são interfaces que foram criadas justamente para isso: facilitar o fornecimento de dados estruturados, para que possam ser consumidos por terceiros.

Existem alguns programas com interface gráfica que são capazes de se comunicar com estas APIs e carregaram dados. É o caso do Gephi, por exemplo, cujas extensões (plugins) podem torná-lo capaz de acessar dados da API do Twitter. O OpenRefine, que veremos a seguir no capítulo sobre limpeza de dados, também pode consultar APIs. Na Escola de Dados, você encontra [um tutorial de como utilizá-lo para](https://escoladedados.org/tutoriais/geocodificando-enderecos-transforme-tabelas-em-mapas/)[geolocalizar](https://escoladedados.org/tutoriais/geocodificando-enderecos-transforme-tabelas-em-mapas/) as coordenadas de latitude e longitude de endereços em texto, utilizando a API do OpenStreetMaps, por exemplo. Porém, no geral, quando utilizamos a API, é mais comum que ela seja acessado usando algum script.

Agora que vimos alguns aspectos e ferramentas da obtenção de dados, passaremos no próximo capítulo à etapa de checagem das informações recebidas.
